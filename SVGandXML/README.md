### SVG与XML

[SVG精髓](https://github.com/xswei/SVG_Essentials)

[SVG DOM 接口](https://github.com/xswei/SVG_DOM)

### 1. 什么是XML

XML:可扩展标记语言，是一种互联网数据和文档格式，由W3C发明。标记表示一种在文档内表达文档本身结构的方式,XML要支持Unicode标准的字符编码。

XML源于一种主要用来发布信息的，名为SGML(标准通用标记语言)的标记语言，XML和HTML都继承了SGML的特性。

XML用来在Web上创建机器可读的文档，是SGML的一个子集。

而HTML用来创建人类可读的文档，是SGML的一个应用。

与HTML不同，XML的预定义很少，而HTML则预定义了很多标记(head,body,div等)。XML只共享一个特性：使用尖括号表示元素。与HTML不同，XML只提供了规则。

### 2. XML文档结构

```
<?xml version="1.0" encoding="us-ascii">
<authors>
    <person id="lear">
        <name>Tom</name>
    </person>
    <person id="asimov">
        <name>Jack</name>
    </person>
</authors>

```
文档的第一行被称作XML声明，用于告诉处理程序当前文档的版本以及字符编码。

元素使用尖括号包裹，包括起始标签和结束标签，注意元素和标签的区别。

XML文档必须包含一个根元素，包括文档中的所有其他内容，同时包含文本和其他元素的元素被称为混合内容，比如SVG的text元素和tspan元素。

属性在标签内部，只能包含文本内容，必须使用引号包裹。

元素有顺序，属性没有顺序，如果顺序很重要则使用元素表示。

XML1.0对命名元素有一定的规则：1.命名区分大小写。2.以XML开始的命名是为XML1.0和它的附属规范预留的。3.命名必须以字母或下划线开头，不能是数字，可以包含字母、数字、下划线或句点。

实体引用：


原字符 | 实体引用
---|---
\< | \&lt;
\> | \&gt;
\' | \&apos;
\" | \&quot;
\& | \&amp;

### 3. 字符编码

XML被设计为互联网友好的语法，用于信息交换，核心已经国际化了。XML处理程序最基本的要求之一是要支持Unicode编码。

Unicode 3.0已经有超过57700个字符码，每个都对应一个字符。支持两种编码方案：UTF-8和UTF-16。当文档所需的字符码不能通过一个块(8位)表示时，就会使用一个特定的位指示字符码需要和接下来的块一起计算(16位)。

这种方案意味着UTF-8编码在表示拉丁字语言时是高效的。

ASCII是UTF-8的一个子集。

### 4. 有效性

有效性是一个很有用的概念，需要以一种机器可读的方式告诉什么才是有效的XML文档，也就是说那些元素和属性必须以什么样的顺序出现。

XML1.0通过引入文档类型定义(Document Tyle Definition)来实现这一点。对于SVG来说，它有一个DTD准确的阐述了哪些元素和属性组合能生成有效的文档。

DTD的目的是在特定的文档中告知允许的元素和属性，以及约束它们在该文档中的显示顺序。

使用文档类型生命<!DOCTYPE ...>来将文档和DTD定义连接在一起。

### 5. XML命名空间

XML1.0允许开发人员自定义元素和属性，但为了避免命名冲突，引入命名空间，开发者可以使用统一资源标识符(URIs)标识特定的词汇。

SVG使用URI http://www.w3.org/2000/svg 作为它的命名空间，使用xmlns属性定义命名空间。
